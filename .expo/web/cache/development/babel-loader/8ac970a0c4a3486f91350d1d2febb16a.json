{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zouhair\\\\works\\\\Desktop\\\\Les Projets\\\\APP2 covid\\\\TeleCovid_SurveyApp-Frontend\\\\Components\\\\main\\\\Signup.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Text, Button } from 'galio-framework';\nimport { Item, Input } from 'native-base';\nimport { FontAwesome } from '@expo/vector-icons';\nexport function Signup(props) {\n  var _useState = useState({\n    value: '',\n    error: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setusername = _useState2[1];\n\n  var _useState3 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      firstname = _useState6[0],\n      setfirstname = _useState6[1];\n\n  var _useState7 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastname = _useState8[0],\n      setlastname = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error = _useState10[0],\n      seterror = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inputtext = _useState12[0],\n      setinputtext = _useState12[1];\n\n  var _useState13 = useState('eye'),\n      _useState14 = _slicedToArray(_useState13, 2),\n      icon = _useState14[0],\n      seticon = _useState14[1];\n\n  var _changeIcon = function _changeIcon() {\n    if (icon === 'eye-slash') {\n      seticon('eye');\n    }\n\n    setinputtext(!inputtext);\n  };\n\n  var _onSignupPressed = function _onSignupPressed() {\n    if (username.value.length > 0 && password.value.length > 0 && firstname.value.length > 0 && lastname.value.length > 0) {\n      React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }\n      });\n      fetch('https://telecovidprojet.herokuapp.com/api/UserPatient/auth_patient/', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username.value,\n          password: password.value,\n          first_name: firstname.value,\n          last_name: lastname.value\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.warn(res);\n\n        if (res.message === true) {\n          props.navigation.navigate('main');\n        } else {\n          setfirstname({\n            value: ''\n          });\n          setlastname({\n            value: ''\n          });\n          setusername({\n            value: ''\n          });\n          setPassword({\n            value: ''\n          });\n\n          if (res.message === 1) {\n            seterror(\" Email est incorrect\");\n          } else if (res.message === 0) {\n            seterror(\"Email déja existe \");\n          }\n        }\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    } else {\n      setfirstname({\n        value: ''\n      });\n      setlastname({\n        value: ''\n      });\n      setusername({\n        value: ''\n      });\n      setPassword({\n        value: ''\n      });\n      seterror(\"Veuillez remplir tous les champs !\");\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.head,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Inscription\"), React.createElement(TextInput, {\n    value: firstname.value,\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      return setfirstname({\n        value: text,\n        error: ''\n      });\n    },\n    placeholder: \"Pr\\xE9nom\",\n    placeholderTextColor: '#d3d0d2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    value: lastname.value,\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      return setlastname({\n        value: text,\n        error: ''\n      });\n    },\n    placeholder: \"Nom\",\n    placeholderTextColor: '#d3d0d2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    value: username.value,\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      return setusername({\n        value: text,\n        error: ''\n      });\n    },\n    placeholder: \"Email\",\n    placeholderTextColor: '#d3d0d2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), React.createElement(Item, {\n    style: styles.textInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, React.createElement(FontAwesome, {\n    active: true,\n    name: \"lock\",\n    color: \"#ffffff\",\n    size: 18,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), React.createElement(Input, {\n    style: {\n      fontSize: 15,\n      color: '#fff',\n      paddingLeft: 10,\n      height: 40\n    },\n    placeholder: \"Mot de passe\",\n    value: password.value,\n    placeholderTextColor: '#d3d0d2',\n    secureTextEntry: inputtext,\n    onChangeText: function onChangeText(text) {\n      return setPassword({\n        value: text,\n        error: ''\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), React.createElement(FontAwesome, {\n    name: icon,\n    color: \"#ffffff\",\n    size: 18,\n    onPress: function onPress() {\n      return _changeIcon();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  })), React.createElement(Button, {\n    style: {\n      marginTop: 30\n    },\n    round: true,\n    size: \"small\",\n    color: \"#ecf0f1\",\n    onPress: _onSignupPressed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.buttontext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, \"S'incrire\")), React.createElement(Text, {\n    style: styles.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, error), React.createElement(Text, {\n    style: {\n      marginTop: 60,\n      color: '#ffffff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, \" Si vous avez d\\xE9j\\xE0 un compte, identifiez-vous.\"), React.createElement(Button, {\n    onPress: function onPress() {\n      return props.navigation.navigate('Login');\n    },\n    style: {\n      marginTop: 15\n    },\n    round: true,\n    size: \"small\",\n    color: \"#ecf0f1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.buttontext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, \"Login\")));\n}\nexport default Signup;\nvar styles = StyleSheet.create({\n  head: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    color: '#ecf0f1',\n    marginBottom: 80\n  },\n  container: {\n    backgroundColor: '#273c75',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textInput: {\n    height: 40,\n    width: '75%',\n    borderBottomColor: '#d3d0d2',\n    borderBottomWidth: 1,\n    marginBottom: 25,\n    fontSize: 15,\n    color: '#ffffff'\n  },\n  error: {\n    fontSize: 16,\n    marginTop: 20,\n    marginBottom: 10,\n    color: '#d3d0d2',\n    marginLeft: 20,\n    marginRight: 20\n  },\n  buttontext: {\n    color: '#273c75',\n    fontWeight: \"bold\",\n    fontSize: 16\n  }\n});","map":{"version":3,"sources":["C:/Users/zouhair/works/Desktop/Les Projets/APP2 covid/TeleCovid_SurveyApp-Frontend/Components/main/Signup.js"],"names":["React","useState","Text","Button","Item","Input","FontAwesome","Signup","props","value","error","username","setusername","password","setPassword","firstname","setfirstname","lastname","setlastname","seterror","inputtext","setinputtext","icon","seticon","_changeIcon","_onSignupPressed","length","fetch","method","headers","Accept","body","JSON","stringify","first_name","last_name","then","res","json","console","warn","message","navigation","navigate","catch","log","styles","container","head","textInput","text","fontSize","color","paddingLeft","height","marginTop","buttontext","StyleSheet","create","fontWeight","marginBottom","backgroundColor","flex","alignItems","justifyContent","width","borderBottomColor","borderBottomWidth","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { View, ActivityIndicator, StyleSheet, AsyncStorage, Image, TextInput } from 'react-native'\nimport { Text, Button,  } from 'galio-framework';\nimport { Item, Input } from 'native-base';\nimport { FontAwesome } from '@expo/vector-icons';\n\n\nexport function Signup(props) {\n  const [username, setusername] = useState({ value: '', error: '' });\n  const [password, setPassword] = useState({ value: '', error: '' });\n  const [firstname, setfirstname] = useState({ value: '', error: '' });\n  const [lastname, setlastname] = useState({ value: '', error: '' });\n  const [error, seterror] = useState('');\n  const [inputtext, setinputtext] = useState(true);\n  const [icon, seticon] = useState('eye');\n\n  \n  const _changeIcon = () => {\n    if( icon === 'eye-slash'){\n      seticon('eye')\n    }\n    setinputtext(!inputtext)\n  }\n\n\n  const _onSignupPressed = () => {\n    if (username.value.length > 0 && password.value.length > 0 && firstname.value.length > 0 &&\n      lastname.value.length > 0) {\n      <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      fetch('https://telecovidprojet.herokuapp.com/api/UserPatient/auth_patient/', {\n        method: 'POST',\n        headers: {\n          Accept:\n            'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username: username.value,\n          password: password.value,\n          first_name: firstname.value,\n          last_name: lastname.value,\n        }),\n      }).then(res => res.json())\n        .then(res => {\n          console.warn(res)\n          if (res.message === true) {\n            props.navigation.navigate('main')\n          }\n          else {\n            setfirstname({ value: '' })\n            setlastname({ value: '' })\n            setusername({ value: '' })\n            setPassword({ value: '' })\n            if(res.message === 1)\n            {\n              seterror(\" Email est incorrect\")\n\n            }else if(res.message === 0)\n            {\n              seterror(\"Email déja existe \")\n            }\n            \n          }\n        }\n        )\n        .catch(error => console.log(error))\n    } else {\n      setfirstname({ value: '' })\n      setlastname({ value: '' })\n      setusername({ value: '' })\n      setPassword({ value: '' })\n      seterror(\"Veuillez remplir tous les champs !\")\n    }\n\n  };\n  return (\n    <View style={styles.container}>\n      <Text style={styles.head}>Inscription</Text>\n\n      <TextInput\n        value={firstname.value}\n        style={styles.textInput}\n        onChangeText={text => setfirstname({ value: text, error: '' })}\n        placeholder=\"Prénom\"\n        placeholderTextColor={'#d3d0d2'} />\n      <TextInput\n        value={lastname.value}\n        style={styles.textInput}\n        onChangeText={text => setlastname({ value: text, error: '' })}\n        placeholder=\"Nom\"\n        placeholderTextColor={'#d3d0d2'} />\n      <TextInput\n        value={username.value}\n        style={styles.textInput}\n        onChangeText={text => setusername({ value: text, error: '' })}\n        placeholder=\"Email\"\n        placeholderTextColor={'#d3d0d2'} />\n\n\n      <Item style={styles.textInput}>\n        <FontAwesome active name=\"lock\" color='#ffffff' size={18} />\n        <Input\n          style={{ fontSize: 15, color: '#fff', paddingLeft: 10, height: 40 }}\n          placeholder='Mot de passe'\n          value={password.value}\n          placeholderTextColor={'#d3d0d2'}\n          secureTextEntry={inputtext}\n          onChangeText={text => setPassword({ value: text, error: '' })}\n        />\n        <FontAwesome name={icon} color='#ffffff' size={18} onPress={() => _changeIcon()} />\n      </Item>\n\n      <Button style={{ marginTop: 30 }} round size=\"small\" color=\"#ecf0f1\" onPress={_onSignupPressed}>\n      <Text style={styles.buttontext} >S'incrire</Text></Button>\n\n      <Text style={styles.error}>{error}</Text>\n\n      <Text style={{ marginTop: 60, color: '#ffffff' }}> Si vous avez déjà un compte, identifiez-vous.</Text>\n      <Button\n        onPress={() => props.navigation.navigate('Login')} \n        style={{ marginTop: 15 }} round size=\"small\" color=\"#ecf0f1\">\n          <Text style={styles.buttontext} >Login</Text></Button>\n\n    </View>\n  );\n}\n\n\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  head: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    color: '#ecf0f1',\n    marginBottom: 80,\n  },\n  container: {\n    backgroundColor: '#273c75',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  textInput: {\n    height: 40,\n    width: '75%',\n    borderBottomColor: '#d3d0d2',\n    borderBottomWidth: 1,\n    marginBottom: 25,\n    fontSize: 15,\n    color: '#ffffff'\n  },\n  error: {\n    fontSize: 16,\n    marginTop: 20,\n    marginBottom: 10,\n    color: '#d3d0d2',\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  buttontext: {\n    color: '#273c75',\n    fontWeight: \"bold\",\n    fontSize: 16,\n  },\n}\n);"]},"metadata":{},"sourceType":"module"}